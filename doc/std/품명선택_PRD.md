# PRD: 품명선택 팝업 (Product Name Selection Popup)

## 1. User Flow
사용자가 품명을 검색하고 선택하여 부모 화면으로 데이터를 전달하는 흐름은 다음과 같습니다.

1.  **팝업 진입**: 사용자가 부모 화면에서 품명 검색 기능을 호출하면 팝업이 오픈됩니다.
2.  **조회 조건 입력**:
    *   사용자는 `품명번호`, `품명명`을 입력하거나 `사용여부`를 선택합니다.
    *   `사용여부`는 기본적으로 '사용중(Y)'인 건만 조회되도록 설정되어 있으며, 필요시 전체(Y,N) 조회가 가능하도록 변경할 수 있습니다.
3.  **검색 실행**:
    *   [검색] 버튼을 클릭하거나 조회 이벤트를 트리거합니다.
    *   시스템은 위탁업체에서 관리하는 품명 중 조건에 일치하는 목록을 조회합니다.
4.  **목록 확인 및 선택**:
    *   조회된 그리드 목록(하태명, 품목명, 품명명 등)을 확인합니다.
    *   원하는 품명을 선택(Click)합니다.
5.  **데이터 전달 및 종료**:
    *   품명을 선택하면 선택된 품명 정보(품명번호, 품명명, 화주품명번호, 화주명)가 부모 창(호출 화면)으로 전달됩니다.
    *   데이터 전달 후 팝업 창은 자동으로 닫힙니다.
6.  **취소/닫기**: [닫기] 버튼 클릭 시 아무런 동작 없이 창이 닫힙니다.

---

## 2. UI Component 리스트
화면 레이아웃 및 구성 요소는 다음과 같습니다.

### 2.1 조회 영역 (Search Condition)
| Label (Kor) | Label (Eng) | Type | Variable Name | 속성 | 비고 |
|:---:|:---:|:---:|:---:|:---:|:---|
| 품명번호 | GoodsNameNumber | Input Text | `goodsnmNo` | Editable | 검색 키워드 |
| 품명명 | GoodsNameName | Input Text | `goodsnmNm` | Editable | 검색 키워드 |
| 사용여부 | UseYesOrNo | Select Box | `useYn` | Editable | 기본값: Y (사용중) |
| (버튼) | Search | Button | - | - | 검색 실행 |

### 2.2 목록 영역 (Grid List)
*데이터 조회 결과가 표시되는 그리드 영역입니다.*

| Header (Kor) | Header (Eng) | Variable Name | 속성 |
|:---:|:---:|:---:|:---:|
| 하태명 | HataeName | `hataeNm` | Editable |
| 품목명 | ItemName | `itemNm` | Editable |
| 품명명 | GoodsNameName | `goodsnmNm` | Editable |
| 품명코드 | GoodsNameCode | `goodsnmCd` | Editable |
| 화종명 | HwajongName | `hwajongNm` | - |

### 2.3 하단 액션 영역 (Footer)
| Component | Type | Action |
|:---:|:---:|:---|
| 닫기 | Button | 팝업 닫기 |

---

## 3. Data Mapping
화면 간 데이터 이동 및 내부 변수 매핑 정의입니다.

### 3.1 Input Data (Open Event)
*팝업이 열릴 때 부모 창으로부터 전달받거나 초기화되는 데이터입니다.*
*   **로그인ID**: 팝업 오픈 시 로그인 ID 정보를 수신합니다.

### 3.2 Internal Processing Data (Search Event)
*조회 버튼 클릭 시 서버로 전송되는 파라미터입니다.*
*   **Request**: `goodsnmNo` (품명번호), `goodsnmNm` (품명명), `useYn` (사용여부)
*   **Response**: 품명 목록 리스트 (하태명, 품목명, 품명명, 품명코드, 화종명 등)

### 3.3 Output Data (Select Event)
*사용자가 품명을 선택했을 때 부모 창으로 반환되는 데이터입니다.*
*   **Return Values**:
    *   품명번호
    *   품명명
    *   화주품명번호
    *   화주명

---

## 4. Logic Definition
해당 팝업의 기능적 로직 및 업무 규칙입니다.

### 4.1 초기화 로직 (Initialization)
*   **사용여부 기본값 설정**: 팝업 오픈 시 `사용여부(useYn)` 콤보박스는 '사용중(Y)'인 건만 조회하도록 기본 설정되어야 합니다.
*   **조회 권한**: 위탁업체에서 관리하는 품명 데이터만 조회 범위에 포함되어야 합니다.

### 4.2 조회 로직 (Search Logic)
*   **검색 조건**:
    *   사용자가 입력한 `품명번호` 혹은 `품명명`과 일치하는 데이터를 검색합니다.
    *   `사용여부`가 '전체'가 아닌 경우, 선택된 값(Y 또는 N)에 해당하는 데이터만 필터링합니다.
*   **업무 규칙**:
    *   등록된 품명만 조회되어야 합니다.
    *   조회 조건에 해당하는 품명 목록을 그리드에 Display 합니다.

### 4.3 선택 및 반환 로직 (Selection Logic)
*   **이벤트 트리거**: 그리드 내의 항목을 선택(클릭)하거나 별도의 선택 버튼(설계서 상 이벤트 흐름 참조)을 클릭할 때 발생합니다.
*   **데이터 전달**: 선택된 행(Row)의 상세 정보(품명번호, 품명명, 화주정보 등)를 부모 창의 콜백 함수나 지정된 필드에 매핑하여 전달합니다.
*   **창 닫기**: 데이터 전달 프로세스가 완료되면 팝업 창(자신의 창)을 닫습니다.
