<div data-controller="std-approval-request-grid"
     data-action="ag-grid:ready->std-approval-request-grid#registerGrid"
     data-std-approval-request-grid-batch-url-value="<%= batch_save_url %>"
     data-std-approval-request-grid-request-url-value="<%= request_action_url %>"
     data-std-approval-request-grid-approve-url-value="<%= approve_action_url %>">
  <%= render Ui::SearchFormComponent.new(
    url: create_url,
    fields: search_fields,
    cols: 5,
    enable_collapse: true
  ) %>

  <div class="flex items-center justify-between gap-3 mb-3 mt-2">
    <h3 class="inline-flex items-center gap-2 text-[15px] font-semibold text-text-primary">
      <%= helpers.lucide_icon("stamp", css_class: "w-4 h-4 text-text-secondary") %>
      결재요청승인 목록
      <%= render Ui::GridActionsComponent.new(grid_id: "std-approval-request") %>
    </h3>
    <%= render Ui::GridToolbarComponent.new(
      buttons: [
        { label: "행추가", class: "btn btn-sm btn-primary", action: "click->std-approval-request-grid#addRow" },
        { label: "행삭제", class: "btn btn-sm btn-danger", action: "click->std-approval-request-grid#deleteRows" },
        { label: "저장", class: "btn btn-sm btn-success", action: "click->std-approval-request-grid#saveRows" },
        { label: "요청", class: "btn btn-sm btn-secondary", action: "click->std-approval-request-grid#requestRows" },
        { label: "승인", class: "btn btn-sm btn-secondary", action: "click->std-approval-request-grid#approveRows" }
      ]
    ) %>
  </div>

  <%= render Ui::AgGridComponent.new(
    columns: columns,
    url: grid_url,
    height: "calc(100vh - 370px)",
    page_size: 20,
    row_selection: "multiple",
    grid_id: "std-approval-request",
    data: { std_approval_request_grid_target: "grid" }
  ) %>
</div>
