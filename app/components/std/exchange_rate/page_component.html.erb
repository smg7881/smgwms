<div data-controller="std-exchange-rate-grid"
     data-action="ag-grid:ready->std-exchange-rate-grid#registerGrid"
     data-std-exchange-rate-grid-batch-url-value="<%= batch_save_url %>"
     data-std-exchange-rate-grid-fetch-url-value="<%= fetch_rates_url %>">
  <%= render Ui::SearchFormComponent.new(
    url: create_url,
    fields: search_fields,
    cols: 5,
    enable_collapse: true
  ) %>

  <%= render Ui::GridHeaderComponent.new(
    icon: "coins", title: "환율 목록", grid_id: "std-exchange-rate",
    buttons: [
      { label: "환율정보 가져오기", class: "btn btn-sm btn-info", action: "click->std-exchange-rate-grid#fetchRates" },
      { label: "추가", class: "btn btn-sm btn-primary", action: "click->std-exchange-rate-grid#addRow" },
      { label: "삭제", class: "btn btn-sm btn-danger", action: "click->std-exchange-rate-grid#deleteRows" },
      { label: "저장", class: "btn btn-sm btn-success", action: "click->std-exchange-rate-grid#saveRows" }
    ]
  ) %>

  <%= render Ui::AgGridComponent.new(
    columns: columns,
    url: grid_url,
    height: "calc(100vh - 360px)",
    page_size: 20,
    row_selection: "multiple",
    grid_id: "std-exchange-rate",
    data: { std_exchange_rate_grid_target: "grid" }
  ) %>
</div>
