  <div data-controller="om-order-work-progress"
       data-action="search-form:success@window->om-order-work-progress#loadData"
       class="std-client-screen std-om-order-work-progress-screen flex flex-col h-full">

    <!-- 검색조건 영역 -->
    <%= render Ui::SearchFormComponent.new(
      url: collection_path(format: :json),
      fields: search_fields,
      cols: 4,
      enable_collapse: true,
      class: "std-client-search"
    ) %>

    <!-- 마스터 정보 영역 -->
    <div class="mb-4 cursor-default">
      <%= render Ui::ResourceFormComponent.new(
        model: nil,
        title: "기본 정보",
        target_controller: "om-order-work-progress",
        fields: [
          # 1 Row
          { field: "cust_ord_no", type: "input", label: "고객오더번호", disabled: true, target: "custOrdNo" },
          { field: "ord_no", type: "input", label: "오더번호", disabled: true, target: "ordNo" },
          { field: "cust_ord_type_nm", type: "input", label: "고객오더유형", disabled: true, target: "custOrdTypeNm" },
          { field: "ord_req_cust_nm", type: "input", label: "오더요청고객", disabled: true, target: "ordReqCustNm" },

          # 2 Row
          { field: "ctrt_no", type: "input", label: "계약번호", disabled: true, target: "ctrtNo" },
          { field: "ctrt_cust_nm", type: "input", label: "계약고객", disabled: true, target: "ctrtCustNm" },
          { field: "bilg_cust_nm", type: "input", label: "청구고객", disabled: true, target: "bilgCustNm" },
          { field: "ord_type_nm", type: "input", label: "오더유형", disabled: true, target: "ordTypeNm" },

          # 3 Row
          { field: "cust_ord_ofcr", type: "input", label: "고객담당자", disabled: true, target: "custOrdOfcr" },
          { field: "cust_tel", type: "input", label: "고객연락처", disabled: true, target: "custTel" },
          { field: "cust_expr_yn", type: "input", label: "고객긴급여부", disabled: true, target: "custExprYn" },
          { field: "cls_expr_yn", type: "input", label: "마감긴급여부", disabled: true, target: "clsExprYn" },

          # 4 Row
          { field: "retrngd_yn", type: "input", label: "반품여부", disabled: true, target: "retrngdYn" },
          { field: "ord_stat_nm", type: "input", label: "오더상태", disabled: true, target: "ordStatNm" },
          { field: "ord_cmpt_nm", type: "input", label: "오더완료", disabled: true, target: "ordCmptNm" }
        ],
        cols: 4,
        show_buttons: false,
        class: "std-client-resource-form"
      ) %>
    </div>

    <!-- 상태 상세 그리드 영역 -->
    <div class="std-client-detail mt-0 flex-1 flex flex-col min-h-[450px]">
      <!-- 탭 헤더 영역 -->
      <%= render Ui::TabsComponent.new(
        target_controller: "om-order-work-progress",
        tabs: [
          { id: "items", label: "오더 아이템별 실적" },
          { id: "progress", label: "오더작업진행 상세이력" }
        ]
      ) %>

      <!-- 탭 컨텐츠 영역 -->
      <div class="std-client-panel is-active flex-1 min-h-0 relative" data-om-order-work-progress-target="tabPanel" data-tab-panel="items">
        <div class="absolute inset-0 flex flex-col">
          <%= render Ui::AgGridComponent.new(
            columns: item_columns,
            row_data: [],
            pagination: false,
            data: {
              om_order_work_progress_target: "itemGridContainer",
              action: "ag-grid:ready->om-order-work-progress#registerGrid"
            }
          ) %>
        </div>
      </div>

      <div class="std-client-panel flex-1 min-h-0 relative" data-om-order-work-progress-target="tabPanel" data-tab-panel="progress" hidden>
        <div class="absolute inset-0 flex flex-col">
          <%= render Ui::AgGridComponent.new(
            columns: progress_columns,
            row_data: [],
            pagination: false,
            data: {
              om_order_work_progress_target: "progressGridContainer",
              action: "ag-grid:ready->om-order-work-progress#registerGrid"
            }
          ) %>
        </div>
      </div>
    </div>

  </div>
