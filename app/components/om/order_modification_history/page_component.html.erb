  <div data-controller="om-order-modification-history"
       data-action="search-form:success@window->om-order-modification-history#loadMasterData">

    <!-- 검색조건 영역: 오더번호 및 이력순번 -->
    <%= render Ui::SearchFormComponent.new(
      url: collection_path(format: :json),
      fields: search_fields,
      cols: 4,
      enable_collapse: true
    ) %>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 h-full min-h-[500px]">

      <!-- 1. Master: 오더수정이력목록 -->
      <div class="flex flex-col h-full bg-white p-2 rounded shadow-sm border overflow-hidden">
        <h3 class="text-sm font-bold text-gray-800 mb-2 pl-2">오더수정이력목록</h3>
        <div class="flex-1 min-h-[450px]">
          <%= render Ui::AgGridComponent.new(
            columns: master_columns,
            row_data: [],
            pagination: false,
            row_selection: "single",
            data: {
              om_order_modification_history_target: "masterGridContainer",
              action: "ag-grid:ready->om-order-modification-history#registerGrid callback:onRowClicked->om-order-modification-history#onMasterRowClicked"
            }
          ) %>
        </div>
      </div>

      <!-- 2. Detail: 상세 정보 (아이템 상세 등) -->
      <div class="flex flex-col h-full bg-white p-2 rounded shadow-sm border overflow-hidden">
        <div class="flex items-center justify-between mb-2 pl-2">
          <h3 class="text-sm font-bold text-gray-800">아이템 상세</h3>
          <%= render Ui::GridActionsComponent.new(grid_id: "om-order-modification-history-detail") %>
        </div>
        <div class="flex-1 min-h-[450px]">
          <%= render Ui::AgGridComponent.new(
            columns: detail_columns,
            row_data: [],
            pagination: false,
            grid_id: "om-order-modification-history-detail",
            data: {
              om_order_modification_history_target: "detailGridContainer",
              action: "ag-grid:ready->om-order-modification-history#registerGrid"
            }
          ) %>
        </div>
      </div>

    </div>
  </div>
