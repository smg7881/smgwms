<%# app/views/shared/search_form/fields/_date_range.html.erb %>
<% field_id_from = "q_#{field[:field]}_from" %>
<% field_id_to   = "q_#{field[:field]}_to" %>
<div class="flex flex-col gap-1 col-span-24 min-w-0 <%= span_classes_for(field, cols: cols) %>" data-search-form-target="fieldGroup">
  <label class="text-sm font-medium text-text-secondary"><%= resolve_label(field) %></label>
  <div class="date-picker-wrapper"
       data-controller="flatpickr"
       data-flatpickr-mode-value="range"
       data-flatpickr-format-value="Y-m-d">
    <input type="text"
           class="form-grid-input w-full"
           placeholder="날짜 범위 선택"
           readonly="readonly"
           autocomplete="off">
    <input type="hidden"
           id="<%= field_id_from %>"
           name="q[<%= field[:field] %>_from]"
           value="<%= q_value("#{field[:field]}_from") %>"
           data-flatpickr-target="from">
    <input type="hidden"
           id="<%= field_id_to %>"
           name="q[<%= field[:field] %>_to]"
           value="<%= q_value("#{field[:field]}_to") %>"
           data-flatpickr-target="to">
    <button type="button"
            class="date-picker-btn"
            tabindex="-1"
            data-action="click->flatpickr#open">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24"
           fill="none" stroke="currentColor" stroke-width="2"
           stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
        <line x1="16" y1="2" x2="16" y2="6"/>
        <line x1="8" y1="2" x2="8" y2="6"/>
        <line x1="3" y1="10" x2="21" y2="10"/>
      </svg>
    </button>
  </div>
</div>
