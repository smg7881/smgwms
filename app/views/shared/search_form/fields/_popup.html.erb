<%# app/views/shared/search_form/fields/_popup.html.erb %>
<% field_id = "q_#{field[:field]}" %>
<div class="flex flex-col gap-1 col-span-24 min-w-0 <%= span_classes_for(field, cols: cols) %>"
     data-search-form-target="fieldGroup"
     data-controller="search-popup"
     data-search-popup-type-value="<%= field[:popup_type] %>">
  <label class="text-sm font-medium text-text-secondary" for="<%= field_id %>"><%= resolve_label(field) %></label>
  <div class="flex gap-1">
    <input type="hidden"
           name="q[<%= field[:code_field] %>]"
           value="<%= q_value(field[:code_field]) %>"
           data-search-popup-target="code">
    <input type="text"
           id="<%= field_id %>"
           name="q[<%= field[:field] %>]"
           value="<%= q_value(field[:field]) %>"
           class="form-grid-input"
           readonly
           data-search-popup-target="display"
           placeholder="<%= resolve_placeholder(field) %>">
    <button type="button" class="px-3 border border-border bg-bg-tertiary text-text-primary rounded-md cursor-pointer hover:bg-bg-hover" data-action="search-popup#open">
      ...
    </button>
  </div>
</div>
