<header class="main-header">
  <button class="sidebar-toggle-btn" type="button"
          data-action="click->tabs#toggleSidebar"
          aria-label="사이드바 열기/닫기">
    <%= lucide_icon("chevrons-left", css_class: "toggle-icon-collapse") %>
    <%= lucide_icon("chevrons-right", css_class: "toggle-icon-expand") %>
  </button>
  <div class="breadcrumb">
    <%= lucide_icon("house", css_class: "breadcrumb-home") %>
    <span class="sep">/</span>
    <span class="current" id="breadcrumb-current">
      <% active_id = session[:active_tab] || "overview" %>
      <% active_tab = (session[:open_tabs] || []).find { |t| t["id"] == active_id } %>
      <%= active_tab&.dig("label") || TabRegistry.find(active_id)&.label || "개요" %>
    </span>
  </div>
  <div class="header-actions">
    <div class="search-box">
      <%= lucide_icon("search", css_class: "search-icon") %>
      <input type="text" placeholder="검색... (⌘K)">
    </div>
    <button class="icon-btn" type="button" aria-label="알림">
      <%= lucide_icon("bell") %>
    </button>
    <button class="icon-btn" type="button" aria-label="설정">
      <%= lucide_icon("settings") %>
    </button>
    <%= button_to session_path, method: :delete, class: "icon-btn", form: { style: "display: contents" } do %>
      <%= lucide_icon("log-out") %>
    <% end %>
  </div>
</header>
